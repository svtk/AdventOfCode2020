package day5

import util.readDayInput

fun main() {
    val lines = readDayInput("day5")
    val ids = lines.map { it.toSeatID() }
    val max = ids.maxOrNull()!!
    println("Max: $max")

    val seats = BooleanArray(max + 1) { false }
    ids.forEach {
        seats[it] = true
    }
    println(seats.joinToString("") { if (it) "." else "*" })
    println()
    fun isOccupied(i: Int) = seats.getOrNull(i) ?: false
    for (index in seats.indices) {
        if (isOccupied(index - 1) && isOccupied(index + 1) && !isOccupied(index)) {
            println("My seat: $index")
        }
    }
}
/*
******.......................................................................................................
.............................................................................................................
.............................................................................................................
.............................................................................................................
.............................................................................................................
...................................................................*.........................................
.............................................................................................................
...................................................
 */

fun String.toSeatID() =
    replace("B", "1").replace("F", "0")
        .replace("R", "1").replace("L", "0")
        .toInt(radix = 2)